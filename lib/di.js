(function(){var f=function(h,g){var d=function(){this.reset()};d.prototype.reset=function(){this.__objectFactories={};this.setSingleton("injector",this)};d.prototype.setSingleton=function(a,b){this.setFactory(a,function(){return b})};d.prototype.setFactory=function(a,b){this.__objectFactories[a]=b};d.prototype.setClass=function(a,b){this.setFactory(a,function(){return new b})};d.prototype.makeAlias=function(){if(!(arguments.length<2)){var a=this.__objectFactories[arguments[0]];if(typeof a!=="undefined")for(var b= 1,c=arguments.length;b<c;b++)this.__objectFactories[arguments[b]]=a}};d.prototype.findInstance=function(a,b){var c=this.__objectFactories[a],e;if(typeof c==="function")e=c(b);if(typeof e!=="undefined")return this.inject(e);return null};d.prototype.inject=function(a){if(a===null)return null;var b=a.inject;if(typeof b==="object")for(alias in b){var c=b[alias];if(typeof a[alias]==="undefined"||a[alias]===null)a[alias]=this.findInstance(c,a)}for(c in a)if(a[c]===null)a[c]=this.findInstance(c,a);return a}; g.injector=new d};if(typeof modules!=="undefined")modules.di=f;else f(require,exports)})();